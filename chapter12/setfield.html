<!DOCTYPE html>
<html>
  <head>
    <title>Document</title>
  </head>
  <body>
    <input type="text" id="num1" />
    <input type="text" id="num2" />

    <script>
      /**
       * 사용자가 입력하는 키보드 이벤트를 감지하고, 0~9까지 숫자, 백스페이스, delete 키, 좌우 방향키만 입력 받도록 하는 함수
       * @param {event} e
       * @returns
       */
      function checkInt(e) {
        if (
          !(
            (e.keyCode >= 48 && e.keyCode <= 57) ||
            e.keyCode == 8 ||
            e.keyCode == 46 ||
            e.keyCode == 37 ||
            e.keyCode == 39
          )
        ) {
          e.preventDefault(); //이벤트가 keyup까지 진행이 되어야 input 필드에 값이 입력이 되는데, 여기서 이벤트를 중단 시켜서 값이 입력되지 않도록 중단시킴.
        }
      }

      /**
       * 사용자가 입력하는 키보드 이벤트를 감지하고, 0~9까지 숫자, 소수점(.), 백스페이스, delete 키, 좌우 방향키만 입력 받도록 하는 함수
       * @param {event} e
       * @returns
       */
      function checkFloat(e) {
        if (
          !(
            (e.keyCode >= 48 && e.keyCode <= 57) ||
            e.keyCode == 190 ||
            e.keyCode == 8 ||
            e.keyCode == 46 ||
            e.keyCode == 37 ||
            e.keyCode == 39
          )
        ) {
          e.preventDefault(); //이벤트가 keyup까지 진행이 되어야 input 필드에 값이 입력이 되는데, 여기서 이벤트를 중단 시켜서 값이 입력되지 않도록 중단시킴.
        }
      }

      /**
       * 사용자가 입력하는 키보드 이벤트를 감지하고, 한글이 입력되면 한글을 삭제하는 함수
       * @param {event} e
       * @returns
       */
      function checkKr(e) {
        e.target.value = e.target.value.replace(/[^0-9]/gi, "");
      }

      function checkFloatKr(e) {
        e.target.value = e.target.value.replace(/[^0-9]\./gi, "");
      }

      /**
       *
       * @param {String} eleId - input 요소의 아이디
       * @param {String} type - int이면 정수형숫자, float이면 소수점포한숫자를 입력할수 있는 필드
       */
      function setField(eleId, type) {
        if (type == "int") {
          document.getElementById(eleId).addEventListener("keydown", checkInt);
          document.getElementById(eleId).addEventListener("keyup", checkKr);
        } else if (type == "float") {
          document
            .getElementById(eleId)
            .addEventListener("keydown", checkFloat);
          document
            .getElementById(eleId)
            .addEventListener("keyup", checkFloatKr);
        }
      }

      setField("num1", "int");
      setField("num2", "float");
    </script>
  </body>
</html>
